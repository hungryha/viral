<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="../static/css/style.css">
    <link href='http://fonts.googleapis.com/css?family=Maven+Pro' rel='stylesheet' type='text/css'>
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map-canvas { height: 100% }
    </style>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyABC1_V6A6bMUeP38mompSWIypVGIyqxWk&sensor=true"></script>
    <script src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobox/src/infobox.js"></script>
  </head>
  <body>
    <div id="droptop">

      <h2>Viral Visualizer</h2>
    </div>
    <div id="map-canvas"/>


    <script type="text/javascript">
      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(-34.397, 150.644),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          panControl: false,
          streetViewControl: false,
          mapTypeControl: false,
          zoomControl: false
        };
        var map = new google.maps.Map(document.getElementById("map-canvas"),
            mapOptions);

        var marker = new google.maps.Marker({
          position: new google.maps.LatLng(0,0),
          map: map,
          title: 'Hello World!',
          icon: '../static/img/dots/reddot.png'
        });

        var boxText = document.createElement("div");
        boxText.style.cssText = "border: 1px solid black; margin-top: 8px; background: yellow; padding: 5px;";
        boxText.innerHTML = "City Hall, Sechelt<br>British Columbia<br>Canada";

        var myOptions = {
           content: boxText
          ,disableAutoPan: false
          ,maxWidth: 0
          ,pixelOffset: new google.maps.Size(-140, 0)
          ,zIndex: null
          ,boxStyle: { 
            background: "url('tipbox.gif') no-repeat"
            ,opacity: 0.75
            ,width: "280px"
           }
          ,closeBoxMargin: "10px 2px 2px 2px"
          ,closeBoxURL: "http://www.google.com/intl/en_us/mapfiles/close.gif"
          ,infoBoxClearance: new google.maps.Size(1, 1)
          ,isHidden: false
          ,pane: "floatPane"
          ,enableEventPropagation: false
        };

        google.maps.event.addListener(marker, "click", function (e) {
          ib.open(theMap, this);
        });

        var ib = new InfoBox(myOptions);

        $('#droptop').animate({
          top: -30
        }, 1000, 'easeInOutBack');

        $('#droptop').hover(function(){
          $(this).animate({
            height: 120
          }, 300, 'easeInOutSine');
        }, function(){
          $(this).animate({
            height: 100
          }, 300, 'easeInOutSine');
        });

      }


      google.maps.event.addDomListener(window, 'load', initialize);
    </script>

  </body>
</html>

